<!DOCTYPE html>

<html>
	<head>
		<title>Tic Tac Toe</title>
		<link rel="stylesheet" type="text/css" href="css/tictactoe.css">
		<script type="text/javascript" src="js/tictactoe.js"></script>
		<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
	</head>
	<body>

		<div id="board">
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
			<div class="section"></div>
		</div>
		
		<script type="text/javascript">

			var game = new TicTacToe(0);

			$('#board .section').on('click', function () {

				var $this = $(this);
				var position = $this.index();

				// Set mark
				game.setMark(position);
				
				var board = game.getBoard();

				// Update board
				board.forEach(function (pos, index) {

					var symbol = ' ';

					if (pos === 1) {
						symbol = 'X';
					} else if (pos === 0) {
						symbol = 'O';
					}

					$('#board .section:nth-child(' + (index + 1) + ')').html(symbol);
				});

				console.log(board);

				// Check if there's a winner
				switch(game.winner) {
					case 0:  alert('You have won!');
							 break;
					case 1:  alert('You have lost!');
							 break;
					case -1: alert("It's a draw!"); 
							 break;
					default: 
						break;
				}
			});
		</script>
	</body>
</html>